The guests are smart but are also thirsty, so after the host's terms are agreed upon, perhaps at least one guest lacks the self-control to wait until a winning strategy is decided and he (they) make a attempt at claiming the first cup of water.

Because it's up to the host to determine who is the first depositor/winner, the host has placed the bottle cap in the first-place position to be "claimed" by pinning it to the table under the cup or by turning their cup upside-down to capture it. 

The guests are smart and recognize that once the first-place position is claimed, a winning strategy is required to drink any water or else a deadlock will ensue from intermediaries refusing to place their cup, so the following strategy is devised:

All guests line up (order becomes irrelevant in this circular strategy) and pass their cup to the participant next to them, all in the same direction.
The one at the end of the line passes to the one at the other end of the line (The first-place 'winner' smartly relinquishes control over his empty cup so that it doesn't remain empty forever due to deadlock).
The strategy is to divide the water amongst all guests equally.
The guests understand that to do this they can place the remainder of the cups in a row without concern for the order in which they are placed so they just keep the same order as their lineup.
Once all the cups have been placed on the table the two cups are filled as promised, but the holders of those cups are not capable of drinking the held cup because it's not their own.
They spread out around the table in a circle (to expediate the process) and pour water from the held cup into their own cup.
Naturally, some participants pour more than [2/N cups] when filling their own but being smart they realize that sort of action would continue in the circle and delay the eventual drink.
Being smart, they pour carefully to avoid spilling and to avoid wasting time.
Once they all agree the water is equally divided, they return the cups to their owners and can finally drink.

In this way, the guests have 'cheated' the strange offer made by the host, but then again... they were all smart and thirsty!
